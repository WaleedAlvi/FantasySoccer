{"ast":null,"code":"import { makeAutoObservable } from 'mobx';\nimport { auth } from '../shared/firebase';\nexport default class UserStore {\n  constructor() {\n    this.user = null;\n    this.errorExists = false;\n    this.errorMessage = '';\n    this.isAuthenticated = false;\n\n    this.login = (email, password) => {\n      auth.signInWithEmailAndPassword(email, password).then(() => {\n        this.errorExists = false;\n        this.errorMessage = '';\n        this.isAuthenticated = true;\n        this.setUser();\n      }).catch(error => {\n        this.isAuthenticated = false;\n        this.errorExists = true;\n        this.errorMessage = error.message;\n      });\n    };\n\n    this.signup = (email, password, confirmPassword) => {\n      if (password === confirmPassword) {\n        this.errorExists = false;\n        this.errorMessage = '';\n        return auth.createUserWithEmailAndPassword(email, password).then(() => {\n          this.setUser();\n        }).catch(error => {\n          this.errorExists = true;\n          this.errorMessage = error.message;\n        });\n      } else {\n        this.errorExists = true;\n        this.errorMessage = 'Passwords do not match';\n      }\n    };\n\n    this.signout = () => {\n      return auth.signOut();\n    };\n\n    makeAutoObservable(this);\n  }\n\n  get IsLoggedIn() {\n    return !!this.user;\n  }\n\n  setUser() {\n    auth.onAuthStateChanged(user => {\n      this.errorExists = false;\n      this.errorMessage = '';\n      this.user = {\n        name: '',\n        email: user === null || user === void 0 ? void 0 : user.email,\n        userToken: user === null || user === void 0 ? void 0 : user.uid\n      };\n    });\n  }\n\n}","map":{"version":3,"sources":["G:/Personal Projects/UntitledProject/untitled-project/src/app/stores/userStore.ts"],"names":["makeAutoObservable","auth","UserStore","constructor","user","errorExists","errorMessage","isAuthenticated","login","email","password","signInWithEmailAndPassword","then","setUser","catch","error","message","signup","confirmPassword","createUserWithEmailAndPassword","signout","signOut","IsLoggedIn","onAuthStateChanged","name","userToken","uid"],"mappings":"AAAA,SAASA,kBAAT,QAAmC,MAAnC;AAEA,SAASC,IAAT,QAAqB,oBAArB;AAEA,eAAe,MAAMC,SAAN,CAAgB;AAO3BC,EAAAA,WAAW,GAAG;AAAA,SANdC,IAMc,GANO,IAMP;AAAA,SALdC,WAKc,GALS,KAKT;AAAA,SAJdC,YAIc,GAJS,EAIT;AAAA,SAHdC,eAGc,GAHa,KAGb;;AAAA,SAQdC,KARc,GAQN,CAACC,KAAD,EAAgBC,QAAhB,KAAqC;AAEzCT,MAAAA,IAAI,CAACU,0BAAL,CAAgCF,KAAhC,EAAuCC,QAAvC,EACKE,IADL,CACU,MAAM;AACR,aAAKP,WAAL,GAAmB,KAAnB;AACA,aAAKC,YAAL,GAAoB,EAApB;AACA,aAAKC,eAAL,GAAuB,IAAvB;AACA,aAAKM,OAAL;AACH,OANL,EAOKC,KAPL,CAOYC,KAAD,IAAW;AACd,aAAKR,eAAL,GAAuB,KAAvB;AACA,aAAKF,WAAL,GAAmB,IAAnB;AACA,aAAKC,YAAL,GAAoBS,KAAK,CAACC,OAA1B;AACH,OAXL;AAYH,KAtBa;;AAAA,SAwBdC,MAxBc,GAwBL,CAACR,KAAD,EAAgBC,QAAhB,EAAkCQ,eAAlC,KAA6D;AAClE,UAAIR,QAAQ,KAAKQ,eAAjB,EAAkC;AAC9B,aAAKb,WAAL,GAAmB,KAAnB;AACA,aAAKC,YAAL,GAAoB,EAApB;AACA,eAAOL,IAAI,CAACkB,8BAAL,CAAoCV,KAApC,EAA2CC,QAA3C,EACNE,IADM,CACD,MAAM;AACR,eAAKC,OAAL;AACH,SAHM,EAINC,KAJM,CAICC,KAAD,IAAW;AACd,eAAKV,WAAL,GAAmB,IAAnB;AACA,eAAKC,YAAL,GAAoBS,KAAK,CAACC,OAA1B;AACH,SAPM,CAAP;AAQH,OAXD,MAWO;AACH,aAAKX,WAAL,GAAmB,IAAnB;AACA,aAAKC,YAAL,GAAoB,wBAApB;AACH;AACJ,KAxCa;;AAAA,SAsDdc,OAtDc,GAsDJ,MAAM;AACZ,aAAOnB,IAAI,CAACoB,OAAL,EAAP;AACH,KAxDa;;AACVrB,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH;;AAEa,MAAVsB,UAAU,GAAG;AACb,WAAO,CAAC,CAAC,KAAKlB,IAAd;AACH;;AAoCDS,EAAAA,OAAO,GAAG;AACNZ,IAAAA,IAAI,CAACsB,kBAAL,CAAwBnB,IAAI,IAAI;AAC5B,WAAKC,WAAL,GAAmB,KAAnB;AACA,WAAKC,YAAL,GAAoB,EAApB;AACA,WAAKF,IAAL,GAAY;AACRoB,QAAAA,IAAI,EAAE,EADE;AAERf,QAAAA,KAAK,EAAEL,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEK,KAFL;AAGRgB,QAAAA,SAAS,EAAErB,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEsB;AAHT,OAAZ;AAKH,KARD;AASH;;AA3D0B","sourcesContent":["import { makeAutoObservable } from 'mobx';\r\nimport { IUser } from '../models/user';\r\nimport { auth } from '../shared/firebase';\r\n\r\nexport default class UserStore {\r\n    user: IUser | null = null;\r\n    errorExists: boolean = false;\r\n    errorMessage: string = '';\r\n    isAuthenticated: boolean = false;\r\n    \r\n\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    get IsLoggedIn() {\r\n        return !!this.user;\r\n    }\r\n\r\n    login = (email: string, password: string) => {\r\n\r\n        auth.signInWithEmailAndPassword(email, password)\r\n            .then(() => {\r\n                this.errorExists = false;\r\n                this.errorMessage = '';\r\n                this.isAuthenticated = true;\r\n                this.setUser();\r\n            })\r\n            .catch((error) => {\r\n                this.isAuthenticated = false;\r\n                this.errorExists = true;\r\n                this.errorMessage = error.message;\r\n            });\r\n    }\r\n\r\n    signup = (email: string, password: string, confirmPassword:string) => {\r\n        if (password === confirmPassword) {\r\n            this.errorExists = false;\r\n            this.errorMessage = '';\r\n            return auth.createUserWithEmailAndPassword(email, password)\r\n            .then(() => {\r\n                this.setUser();\r\n            })\r\n            .catch((error) => {\r\n                this.errorExists = true;\r\n                this.errorMessage = error.message;\r\n            });\r\n        } else {\r\n            this.errorExists = true;\r\n            this.errorMessage = 'Passwords do not match';\r\n        }\r\n    }\r\n\r\n    setUser() {\r\n        auth.onAuthStateChanged(user => {\r\n            this.errorExists = false;\r\n            this.errorMessage = '';\r\n            this.user = {\r\n                name: '',\r\n                email: user?.email,\r\n                userToken: user?.uid\r\n            }\r\n        })\r\n    }\r\n\r\n    signout = () => {\r\n        return auth.signOut();\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}