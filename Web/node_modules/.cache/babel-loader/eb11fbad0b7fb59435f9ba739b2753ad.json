{"ast":null,"code":"import { makeAutoObservable } from 'mobx';\nimport { auth } from '../shared/firebase';\nimport { useHistory } from 'react-router-dom';\nexport default class UserStore {\n  constructor() {\n    this.user = {\n      name: '',\n      dateOfBirth: new Date(),\n      email: '',\n      userToken: ''\n    };\n    this.errorExists = false;\n    this.errorMessage = '';\n    this.history = useHistory();\n\n    this.login = (email, password) => {\n      return auth.signInWithEmailAndPassword(email, password);\n    };\n\n    this.signup = (email, password, confirmPassword) => {\n      if (password === confirmPassword) {\n        this.errorExists = false;\n        this.errorMessage = '';\n        auth.createUserWithEmailAndPassword(email, password).then(userCredential => {\n          console.log(userCredential);\n        });\n        this.history.push('/');\n      } else {\n        this.errorExists = true;\n        this.errorMessage = 'Passwords do not match';\n      }\n    };\n\n    makeAutoObservable(this);\n  }\n\n  get IsLoggedIn() {\n    return !!this.user;\n  }\n\n  setUser() {\n    auth.onAuthStateChanged(user => {\n      this.errorExists = false;\n      this.errorMessage = '';\n      this.user = {\n        name: '',\n        email: user === null || user === void 0 ? void 0 : user.email,\n        userToken: user === null || user === void 0 ? void 0 : user.uid\n      };\n    });\n  }\n\n}","map":{"version":3,"sources":["G:/Personal Projects/UntitledProject/untitled-project/src/app/stores/userStore.ts"],"names":["makeAutoObservable","auth","useHistory","UserStore","constructor","user","name","dateOfBirth","Date","email","userToken","errorExists","errorMessage","history","login","password","signInWithEmailAndPassword","signup","confirmPassword","createUserWithEmailAndPassword","then","userCredential","console","log","push","IsLoggedIn","setUser","onAuthStateChanged","uid"],"mappings":"AAAA,SAASA,kBAAT,QAAmC,MAAnC;AAEA,SAASC,IAAT,QAAqB,oBAArB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,eAAe,MAAMC,SAAN,CAAgB;AAO3BC,EAAAA,WAAW,GAAG;AAAA,SANdC,IAMc,GANA;AAACC,MAAAA,IAAI,EAAE,EAAP;AAAWC,MAAAA,WAAW,EAAE,IAAIC,IAAJ,EAAxB;AAAoCC,MAAAA,KAAK,EAAE,EAA3C;AAA+CC,MAAAA,SAAS,EAAE;AAA1D,KAMA;AAAA,SALdC,WAKc,GALS,KAKT;AAAA,SAJdC,YAIc,GAJS,EAIT;AAAA,SAHdC,OAGc,GAHJX,UAAU,EAGN;;AAAA,SAQdY,KARc,GAQN,CAACL,KAAD,EAAgBM,QAAhB,KAAqC;AACzC,aAAOd,IAAI,CAACe,0BAAL,CAAgCP,KAAhC,EAAuCM,QAAvC,CAAP;AACH,KAVa;;AAAA,SAYdE,MAZc,GAYL,CAACR,KAAD,EAAgBM,QAAhB,EAAkCG,eAAlC,KAA6D;AAClE,UAAIH,QAAQ,KAAKG,eAAjB,EAAkC;AAC9B,aAAKP,WAAL,GAAmB,KAAnB;AACA,aAAKC,YAAL,GAAoB,EAApB;AACAX,QAAAA,IAAI,CAACkB,8BAAL,CAAoCV,KAApC,EAA2CM,QAA3C,EACCK,IADD,CACOC,cAAD,IAAoB;AACtBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,cAAZ;AACP,SAHG;AAIJ,aAAKR,OAAL,CAAaW,IAAb,CAAkB,GAAlB;AACC,OARD,MAQO;AACH,aAAKb,WAAL,GAAmB,IAAnB;AACA,aAAKC,YAAL,GAAoB,wBAApB;AACH;AAEJ,KA1Ba;;AACVZ,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH;;AAEa,MAAVyB,UAAU,GAAG;AACb,WAAO,CAAC,CAAC,KAAKpB,IAAd;AACH;;AAsBDqB,EAAAA,OAAO,GAAG;AACNzB,IAAAA,IAAI,CAAC0B,kBAAL,CAAwBtB,IAAI,IAAI;AAC5B,WAAKM,WAAL,GAAmB,KAAnB;AACA,WAAKC,YAAL,GAAoB,EAApB;AACA,WAAKP,IAAL,GAAY;AACRC,QAAAA,IAAI,EAAE,EADE;AAERG,QAAAA,KAAK,EAAEJ,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEI,KAFL;AAGRC,QAAAA,SAAS,EAAEL,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEuB;AAHT,OAAZ;AAKH,KARD;AASH;;AA7C0B","sourcesContent":["import { makeAutoObservable } from 'mobx';\r\nimport { IUser } from '../models/user';\r\nimport { auth } from '../shared/firebase';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default class UserStore {\r\n    user: IUser = {name: '', dateOfBirth: new Date(), email: '', userToken: ''};\r\n    errorExists: boolean = false;\r\n    errorMessage: string = '';\r\n    history = useHistory();\r\n    \r\n\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    get IsLoggedIn() {\r\n        return !!this.user;\r\n    }\r\n\r\n    login = (email: string, password: string) => {\r\n        return auth.signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    signup = (email: string, password: string, confirmPassword:string) => {\r\n        if (password === confirmPassword) {\r\n            this.errorExists = false;\r\n            this.errorMessage = '';\r\n            auth.createUserWithEmailAndPassword(email, password)\r\n            .then((userCredential) => {\r\n                console.log(userCredential);\r\n        });\r\n        this.history.push('/');\r\n        } else {\r\n            this.errorExists = true;\r\n            this.errorMessage = 'Passwords do not match';\r\n        }\r\n\r\n    }\r\n\r\n    setUser() {\r\n        auth.onAuthStateChanged(user => {\r\n            this.errorExists = false;\r\n            this.errorMessage = '';\r\n            this.user = {\r\n                name: '',\r\n                email: user?.email,\r\n                userToken: user?.uid\r\n            }\r\n        })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}